<app-banner text="Log in"></app-banner>
<div class="mt-20 max-w-[500px] w-full m-auto p-5 pb-20 flex justify-center">
  <form
    class="bg-slate-100 p-10 w-full"
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    *ngIf="!isLoading; else loading"
  >
    <div class="w-full flex justify-center flex-col" data-aos="flip-left">
      <span class="font-bold text-2xl block m-auto">Login</span>
      <div class="flex flex-col">
        <label class="mt-5 text-xl flex items-start" for=""
          >Email
          <fa-icon
            class="text-[5px] text-red-600 fill-red-600 ml-2"
            [icon]="faStarOfLife"
          ></fa-icon>
        </label>
        <input
          class="mt-2 h-11 p-2 rounded-md outline-primary"
          type="email"
          #email
          placeholder="Email"
          formControlName="email"
        />
        <span
          class="text-xs text-red-500"
          *ngIf="this.form.controls.email.status === 'INVALID'
          &&
          !this.form.controls.email.errors?.['required']"
        >
          Email is invalid
        </span>
      </div>
      <div class="flex flex-col">
        <label class="mt-5 text-xl flex items-start" for=""
          >Password
          <fa-icon
            class="text-[5px] text-red-600 fill-red-600 ml-2"
            [icon]="faStarOfLife"
          ></fa-icon>
        </label>
        <input
          class="mt-2 h-11 p-2 rounded-md outline-primary"
          type="password"
          #password
          placeholder="Password"
          formControlName="password"
        />
        <span
          class="text-xs text-red-500"
          *ngIf="this.form.controls.password.status === 'INVALID'
        &&
        !this.form.controls.password.errors?.['required']"
        >
          Password at least eight characters, one uppercase letter, one number
        </span>
      </div>
      <button
        [disabled]="form.invalid"
        [ngClass]="
          form.invalid || isLogin
            ? 'cursor-no-drop border-black border border-solid text-black'
            : 'hover:bg-primaryhover bg-primary cursor-pointer text-white '
        "
        class="m-auto flex justify-center items-center min-w-[100px] duration-300 transition-all h-10 text-lg font-semibold rounded-lg mt-5"
      >
        <span *ngIf="!isLogin; else loadingSm">Sign In</span>
        <ng-template #loadingSm>
          <app-loading-small></app-loading-small>
        </ng-template>
      </button>
      <span class="block mt-4"
        >If you don't have account,
        <span
          class="font-semibold text-lg text-primary cursor-pointer"
          [routerLink]="['/register']"
          routerLinkActive="router-link-active"
          >Sign Up</span
        >
      </span>
    </div>
  </form>
  <ng-template #loading>
    <div class="w-full m-auto h-96 flex items-center justify-center">
      <app-loading></app-loading>
    </div>
  </ng-template>
</div>
<app-bannerBot></app-bannerBot>
